==================================================
  TESTING DATA PERSISTENCE - STEP BY STEP
==================================================

Follow these steps to verify that categories and
progress are being saved correctly:

==================================================
üß™ TEST 1: Category Persistence
==================================================

STEP 1: Create a Category
1. Open flashcard.html in browser
2. Upload sample_vocabulary.csv
3. Scroll to Category Manager (yellow panel)
4. Type "German" in "Create New Category" field
5. Click "‚ûï Add Category"
6. ‚úÖ You should see success message
7. ‚úÖ "German" appears in category list

STEP 2: Add Subcategory
1. In "Add Subcategory" section
2. Select "German" from parent dropdown
3. Type "A1 Vocabulary" in name field
4. Click "‚ûï Add Sub"
5. ‚úÖ Success message appears
6. ‚úÖ "‚îî‚îÄ A1 Vocabulary" appears under German

STEP 3: Assign File
1. In "Assign to Category" section
2. Select "German" from category dropdown
3. Select "A1 Vocabulary" from subcategory dropdown
4. Click "Assign" button
5. ‚úÖ Badge updates to show "German > A1 Vocabulary"
6. ‚úÖ Success message: "File mapped to: German > A1 Vocabulary"

STEP 4: Verify localStorage
1. Press F12 (open Developer Tools)
2. Go to "Application" tab (Chrome) or "Storage" (Firefox)
3. Click "Local Storage" ‚Üí your file location
4. ‚úÖ You should see these keys:
   - flashcard_categories
   - flashcard_file_categories
   - flashcards_sample_vocabulary.csv
5. Click "flashcard_categories"
6. ‚úÖ Value shows: {"Default":[],"German":["A1 Vocabulary"]}
7. Click "flashcard_file_categories"
8. ‚úÖ Value shows: {"sample_vocabulary.csv":{"category":"German","subcategory":"A1 Vocabulary"}}

STEP 5: Test Persistence
1. Close the browser tab completely
2. Open flashcard.html again (fresh start)
3. Upload sample_vocabulary.csv
4. ‚úÖ Category Manager shows:
   - Current File: sample_vocabulary.csv
   - Badge: German > A1 Vocabulary
5. ‚úÖ Category list shows:
   - üìÅ German
      ‚îî‚îÄ A1 Vocabulary

RESULT: ‚úÖ Categories persist across sessions!

==================================================
üß™ TEST 2: Progress Persistence
==================================================

STEP 1: Mark Cards as Learned
1. Open flashcard.html
2. Upload sample_vocabulary.csv
3. Go through first 5 cards
4. Press 'L' key to mark each as learned
5. ‚úÖ Green "‚úì Learned" badge appears
6. ‚úÖ Stats show: Learned: 5, Remaining: 15

STEP 2: Check localStorage
1. Open Developer Tools (F12)
2. Application ‚Üí Local Storage
3. Find key: flashcards_sample_vocabulary.csv
4. ‚úÖ Value shows array with learned: true for 5 cards

STEP 3: Test Persistence
1. Close browser tab
2. Reopen flashcard.html
3. Upload sample_vocabulary.csv again
4. ‚úÖ Stats still show: Learned: 5, Remaining: 15
5. ‚úÖ Green badges on first 5 cards
6. Navigate to first card
7. ‚úÖ Shows "‚úì Learned" badge

RESULT: ‚úÖ Progress persists across sessions!

==================================================
üß™ TEST 3: Multiple Files
==================================================

STEP 1: Create Multiple Categories
1. Open flashcard.html
2. Upload sample_vocabulary.csv
3. Create categories:
   - German ‚Üí A1 Vocabulary
   - German ‚Üí A2 Vocabulary
   - French ‚Üí Beginner
4. ‚úÖ All appear in category list

STEP 2: Assign First File
1. With sample_vocabulary.csv loaded
2. Assign to: German > A1 Vocabulary
3. Mark 3 cards as learned
4. ‚úÖ Badge shows: German > A1 Vocabulary

STEP 3: Create Second CSV File
1. Create new file: german_advanced.csv
2. Add some German words (different from first file)
3. Upload german_advanced.csv
4. Assign to: German > A2 Vocabulary
5. Mark 2 cards as learned
6. ‚úÖ Badge shows: German > A2 Vocabulary

STEP 4: Switch Between Files
1. Upload sample_vocabulary.csv
   ‚úÖ Badge: German > A1 Vocabulary
   ‚úÖ Shows 3 cards learned
2. Upload german_advanced.csv
   ‚úÖ Badge: German > A2 Vocabulary
   ‚úÖ Shows 2 cards learned
3. Upload sample_vocabulary.csv again
   ‚úÖ Back to German > A1 Vocabulary
   ‚úÖ Still shows 3 cards learned

STEP 5: Close and Test
1. Close browser completely
2. Reopen flashcard.html
3. Upload sample_vocabulary.csv
   ‚úÖ German > A1 Vocabulary (correct!)
   ‚úÖ 3 cards learned (correct!)
4. Upload german_advanced.csv
   ‚úÖ German > A2 Vocabulary (correct!)
   ‚úÖ 2 cards learned (correct!)

RESULT: ‚úÖ Multiple files tracked independently!

==================================================
üß™ TEST 4: Category Deletion
==================================================

STEP 1: Create and Assign
1. Create category "Test"
2. Assign current file to "Test"
3. ‚úÖ Badge shows "Test"

STEP 2: Delete Category
1. Find "Test" in category list
2. Click red [‚úï] button
3. ‚úÖ Confirmation prompt appears
4. Click "OK"
5. ‚úÖ "Test" removed from list
6. ‚úÖ Badge changes to "Default"
7. ‚úÖ File reassigned to Default category

STEP 3: Verify Persistence
1. Close browser
2. Reopen and upload file
3. ‚úÖ Still shows "Default" (not "Test")
4. ‚úÖ "Test" category gone from list

RESULT: ‚úÖ Deletion persists correctly!

==================================================
üß™ TEST 5: Browser Data Clearing
==================================================

STEP 1: Set Up Data
1. Create categories
2. Assign files
3. Mark cards as learned
4. Verify everything works

STEP 2: Clear Browser Data
1. Browser Settings ‚Üí Privacy
2. Clear browsing data
3. ‚úÖ Check "Cookies and site data" or "Local Storage"
4. Clear data

STEP 3: Test After Clearing
1. Open flashcard.html
2. Upload sample_vocabulary.csv
3. ‚ùå Categories gone (back to Default only)
4. ‚ùå No learned cards
5. ‚ùå All progress reset

RESULT: ‚ö†Ô∏è Clearing browser data ERASES everything!
(This is expected behavior - localStorage is cleared)

==================================================
üìä WHAT IS SAVED VS. WHAT ISN'T:
==================================================

‚úÖ SAVED PERMANENTLY (until browser data cleared):
- All categories you create
- All subcategories
- File-to-category mappings
- Card progress (learned/unlearned)
- Spaced repetition data (review dates, intervals)
- Statistics (how many cards learned)

‚ùå NOT SAVED (resets each session):
- The CSV file content (you must re-upload)
- Current card position (starts at card #1)
- Auto-play settings (checkboxes, sliders)
- Voice settings (voice selection, rate, pitch)
- Timer settings (study timer, sleep timer)
- Session statistics (cards reviewed, time studying)
- Focus mode state
- Show/hide English toggle

==================================================
üîç HOW TO CHECK IF SAVING IS WORKING:
==================================================

QUICK CHECK (Takes 2 minutes):

1. Open flashcard.html
2. Upload sample_vocabulary.csv
3. Create category "Test"
4. Assign file to "Test"
5. Mark first card as learned
6. Press F12 ‚Üí Application ‚Üí Local Storage
7. ‚úÖ Should see these keys:
   - flashcard_categories (contains "Test")
   - flashcard_file_categories (file mapped to "Test")
   - flashcards_sample_vocabulary.csv (first card learned: true)
8. Close browser COMPLETELY
9. Reopen flashcard.html
10. Upload sample_vocabulary.csv
11. ‚úÖ Category badge shows "Test"
12. ‚úÖ First card shows green "‚úì Learned" badge
13. ‚úÖ Stats show "1 Learned"

If all ‚úÖ checks pass: Persistence is working! üéâ

==================================================
‚ö†Ô∏è TROUBLESHOOTING:
==================================================

PROBLEM: Categories not persisting
SOLUTION:
- Check browser supports localStorage
- Check localStorage not disabled in browser settings
- Check not in Private/Incognito mode
- Try different browser (Chrome, Firefox, Edge)

PROBLEM: Progress not saving
SOLUTION:
- Verify file name exactly matches (case-sensitive)
- Check localStorage size limit not exceeded
- View localStorage in DevTools to verify data is there
- Try with smaller CSV file (test with 5-10 cards)

PROBLEM: Everything resets each time
SOLUTION:
- You might be clearing browser data
- You might be in Private/Incognito mode
- localStorage might be disabled
- Check browser settings ‚Üí Privacy ‚Üí Local Storage

PROBLEM: Different file shows wrong category
SOLUTION:
- This is correct behavior - mappings are per-file
- Each CSV filename has its own category assignment
- Same filename = same category/progress
- Different filename = different category/progress

==================================================
üí° BEST PRACTICES:
==================================================

1. CONSISTENT FILE NAMES:
   - Use same filename for same vocabulary list
   - "german_a1.csv" always loads German > A1 category
   - Renaming file = loses category assignment

2. BACKUP YOUR CATEGORIES:
   - Write down your category structure
   - Take screenshot of category list
   - No export feature yet (coming soon)

3. BACKUP YOUR CSV FILES:
   - Keep original CSV files safe
   - CSV content is NOT stored in browser
   - You need the CSV to reload cards

4. DON'T CLEAR BROWSER DATA:
   - Clearing data = loses everything
   - Use "Clear history" instead of "Clear all data"
   - Or exclude "Cookies and site data" when clearing

5. TEST PERSISTENCE:
   - Do quick test after setup
   - Close/reopen to verify
   - Confirms localStorage working

==================================================

Your data IS being saved automatically! üíæ
No manual save button needed! ‚úÖ

Just remember:
- Categories SAVED ‚úÖ
- Progress SAVED ‚úÖ
- CSV content NOT SAVED ‚ùå (must re-upload)

==================================================
